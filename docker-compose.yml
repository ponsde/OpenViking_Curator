services:
  curator:
    build: .
    env_file: .env
    volumes:
      - ./data:/app/data
      - ./cases:/app/cases
      - ./curated:/app/curated
      - ./feedback.json:/app/feedback.json
      # Mount your OpenViking config (required):
      - ./ov.conf:/app/ov.conf
    environment:
      - OPENVIKING_CONFIG_FILE=/app/ov.conf
      - CURATOR_DATA_PATH=/app/data
    # Query mode (default): docker compose run curator "你的问题"
    # MCP server:           docker compose run --entrypoint python3 curator mcp_server.py
    # Health check:         docker compose run curator --status
